CEF Quick summary:

+ Cisco Express Forwarding (CEF) provides the ability to switch packets through a device in a very quick and efficient way while also keeping the load on the router’s processor low. 
  CEF is made up of two different main components: the Forwarding Information Base (FIB) and the Adjacency Table. 
  These are automatically updated at the same time as the routing table.

The adjacency table is tasked with maintaining the layer 2 next-hop information for the FIB.


# 가상화 요약

VM (가상 머신)은 운영 체제가있는 물리적 서버의 소프트웨어 에뮬레이션입니다. 
애플리케이션의 관점에서 VM은 CPU, 메모리 및 NIC (네트워크 인터페이스 카드)와 같은 모든 구성 요소를 포함하여 실제 물리적 서버의 모양과 느낌을 제공합니다.

가상 머신 모니터라고도하는 하이퍼 바이저는 가상 머신을 생성하고 관리하는 소프트웨어입니다. 
하이퍼 바이저를 사용하면 하나의 물리적 서버에서 메모리 및 처리와 같은 리소스를 가상으로 공유하여 여러 게스트 VM을 지원할 수 있습니다.

# 하이퍼 바이저에는 유형 1 및 유형 2 하이퍼 바이저의 두 가지 유형이 있습니다.

유형 1 하이퍼 바이저 (또는 기본 하이퍼 바이저)에서 하이퍼 바이저는 물리적 서버에 직접 설치됩니다. 그런 다음 운영 체제 (OS) 인스턴스가 하이퍼 바이저에 설치됩니다. 
유형 1 하이퍼 바이저는 하드웨어 리소스에 직접 액세스 할 수 있습니다. 따라서 호스팅 된 아키텍처보다 더 효율적입니다. 
유형 1 하이퍼 바이저의 몇 가지 예는 VMware vSphere / ESXi, Oracle VM Server, KVM 및 Microsoft Hyper-V입니다.

유형 2 하이퍼 바이저 (또는 호스팅 된 하이퍼 바이저)는 물리적 하드웨어가 아닌 운영 체제 위에서 직접 실행됩니다. Type 2 하이퍼 바이저의 큰 장점은 관리 콘솔 소프트웨어가 필요하지 않다는 것입니다. 
유형 2 하이퍼 바이저의 예로는 VMware Workstation (Windows, Mac 및 Linux에서 실행 가능) 또는 Microsoft Virtual PC (Windows에서만 실행)가 있습니다.

# 하이퍼 바이저의 가상화 구조
하이퍼 바이저는 VM (가상 컴퓨터)이 동일한 호스트의 다른 VM과 통신하는 데 사용 하는 가상 스위치 (vSwitch)를 제공 합니다. 
vSwitch를 호스트의 물리적 NIC에 연결하여 VM이 외부 세계에 대한 계층 2 액세스를 허용 할 수도 있습니다.

각 VM 에는 가상 스위치에 연결된 가상 NIC (vNIC) 가 제공됩니다 . 여러 vNIC를 단일 vSwitch에 연결할 수 있으므로 물리적 호스트의 VM이 물리적 스위치로 이동할 필요없이 계층 2에서 서로 통신 할 수 있습니다.
vSwitch는 스패닝 트리 프로토콜을 실행하지 않지만 vSwitch는 다른 루프 방지 메커니즘을 구현합니다. 예를 들어, 하나의 VMNIC에서 들어오는 프레임은 다른 VMNIC 카드에서 물리적 호스트를 벗어나지 않습니다.


# 가상화의 이점
서버 가상화와 가상 머신의 사용은 데이터 센터 역학을 크게 변화시키고 있습니다. 대부분의 조직은 데이터 센터에서 여러 물리적 서버를 호스팅하는 비용과 복잡성으로 어려움을 겪고 있습니다. 
스케일 아웃 서버 아키텍처와 기존의 "하나의 애플리케이션, 하나의 서버"확장으로 인한 데이터 센터의 확장은 활용도가 낮은 많은 수의 서버를 수용, 전원 공급 및 냉각하는 데 문제를 일으켰습니다. 
또한 IT 조직은 변덕스럽고 끊임없이 변화하는 조직의 요구 사항에 서버 리소스를 일치시키는 전통적인 비용 및 운영 문제를 계속해서 처리하고 있습니다.

가상 머신은 게스트 운영 체제와 해당 애플리케이션 간의 완전한 격리를 유지하면서 여러 애플리케이션 및 운영 체제 환경을 단일 물리적 서버에서 호스팅 할 수 있도록함으로써 이러한 많은 문제를 크게 완화 할 수 있습니다. 
따라서 서버 가상화는 조직이 여러 가상 머신을 실행하는 활용도가 높은 단일 서버로 활용도가 낮은 서버를 교환 할 수 있도록하여 서버 통합을 용이하게합니다.

여러 물리적 서버를 통합함으로써 조직은 다음과 같은 여러 이점을 얻을 수 있습니다 . 
+ 활용도가 낮은 서버를 폐기하거나 재배포 할 수 있습니다.
+ 랙 공간을 확보 할 수 있습니다.
+ 전력 및 냉각 부하를 줄일 수 있습니다.
+ 새로운 가상 서버를 빠르게 배포 할 수 있습니다.
+ CapEx (사용률이 높을수록 구매해야하는 서버 수가 적음) 및 OpEx (서버 수가 적을수록 환경이 단순 해지고 유지 관리 비용이 낮음)를 줄일 수 있습니다.


# 반 가상화
반 가상화는 가상 머신 내부에 설치하기 전에 게스트 운영 체제 (게스트 OS)를 수정하는 가상화 기술의 향상입니다. 
이를 통해 시스템 내의 모든 게스트 OS는 전체 하드웨어 환경을 에뮬레이트하는 대신 리소스를 공유하고 성공적으로 협업 할 수 있습니다. 
또한 수정은 가상 환경에서 문제가 될 수있는 작업을 완료하는 데 필요한 실행 시간을 줄여줍니다.
게스트 OS에 기본 하드웨어에 대한 액세스 권한을 부여함으로써 반 가상화는 게스트 OS와 하이퍼 바이저 간의 통신 (API 호출 사용)을 가능하게하여 시스템 내 성능과 효율성을 향상시킵니다. 
이것이 반 가상화와 (기존의) 완전 가상화의 주요 차이점입니다.

